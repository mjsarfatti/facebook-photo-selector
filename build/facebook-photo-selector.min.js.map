{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///facebook-photo-selector.min.js","webpack:///webpack/bootstrap 9b6a5b9660ed4b3a3019","webpack:///./src/index.js","webpack:///./src/DOM.js","webpack:///./src/utils.js"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","value","facebookPhotoSelector","undefined","_DOM","_DOM2","_utils","_utils2","settings","_albums","_photos","_selectedAlbumIds","_selectedPhotoIds","_disabledPhotoIds","$albums","_settings","merge","constructor","_defaultSettings","HTML","_HTML","i18n","find","re","RegExp","replace","$holder","document","createElement","innerHTML","body","appendChild","children","$container","querySelector","containerSelector","$albumsContainer","albumsContainerSelector","$photosContainer","photosContainerSelector","$photosWrapper","photosWrapperSelector","$selectedCount","selectedPhotoCountSelector","$selectedCountMax","selectedPhotoCountMaxSelector","$pageNumber","pageNumberSelector","$pageNumberTotal","pageNumberTotalSelector","$pagePrev","pagePrevSelector","$pageNext","pageNextSelector","$backToAlbums","buttonBackToAlbumsSelector","$buttonClose","buttonCloseSelector","$buttonOK","buttonOKSelector","$buttonCancel","buttonCancelSelector","$loader","loader","$pagination","querySelectorAll","pagination","input","Array","slice","sort","_sortPhotos","len","toString","callback","_this","_log","_buildAlbumSelector","showAlbumSelector","_bindEvents","removeClass","albumSelectedClass","albumDisabledClass","photoFilteredClass","indexOf","addClass","_updateAlbumContainer","_updatePaginationButtons","fadeIn","albumId","_this2","show","$photos","_buildPhotoSelector","showPhotoSelector","textContent","maxSelection","_updatePhotosContainer","slideOutRight","_unbindEvents","fadeOut","hide","e","which","preventDefault","stopPropagation","hideAlbumSelector","_this3","addEventListener","callbackSubmit","hidePhotoSelector","pageNumber","parseInt","hasClass","disabledClass","window","_windowEscapeListener","bind","removeEventListener","forEach","$child","firstIndex","lastIndex","_this4","albumsPerPage","$album","_selectAlbum","_this5","photosPerPage","$photo","_selectPhotos","numPages","Math","ceil","removedId","getAttribute","splice","callbackAlbumUnselected","autoDeselection","$getAlbumById","push","callbackAlbumSelected","callbackMaxSelection","photoId","callbackPhotoUnselected","$getPhotoById","callbackPhotoSelected","buildMarkup","buildAlbumMarkup","_this6","FB","getLoginStatus","response","status","accessToken","authResponse","api","data","setAlbums","alert","permission_error","html","elementMarkup","$element","album","_htmlEntities","name","buildSecondMarkup","buildPhotoMarkup","_this7","setPhotos","slideInRight","photo","picture","photo1","photo2","upperCaseName","debug","console","log","arguments","str","String","speed","choose","browse_albums","select_an_album","select_a_photo","photos_selected","back_to_albums","previous","next","page","OK","cancel","_elize","element","className","NodeList","HTMLCollection","isArray","classList","add","remove","split","join","ret","contains","test","toggleClass","css","rule","getComputedStyle","getPropertyValue","removeAttribute","setAttribute","_setUpAnimationStylesheet","onEnd","_prefixedRemoveEvent","_prefixedEvent","_addRuleToStyle","sheet","selector","rules","insertRule","_animationStylesheet","style","createTextNode","head","animations","type","_prefixes","toLowerCase","_typeof","Symbol","out","hasOwnProperty"],"mappings":"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","file":"facebook-photo-selector.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.facebookPhotoSelector = undefined;\n\t\n\tvar _DOM = __webpack_require__(1);\n\t\n\tvar _DOM2 = _interopRequireDefault(_DOM);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar facebookPhotoSelector = exports.facebookPhotoSelector = (function () {\n\t\tfunction facebookPhotoSelector(settings) {\n\t\t\t_classCallCheck(this, facebookPhotoSelector);\n\t\n\t\t\t// variables\n\t\t\tthis._albums = [];\n\t\t\tthis._photos = [];\n\t\t\tthis._selectedAlbumIds = [];\n\t\t\tthis._selectedPhotoIds = [];\n\t\t\tthis._disabledPhotoIds = [];\n\t\t\tthis.$albums = null;\n\t\n\t\t\t// override default settings with arguments\n\t\t\tthis._settings = _utils2.default.merge({}, this.constructor._defaultSettings, settings);\n\t\n\t\t\t// translate HTML\n\t\t\tvar HTML = this.constructor._HTML;\n\t\t\tfor (var key in this._settings.i18n) {\n\t\t\t\tvar find = '{' + key + '}',\n\t\t\t\t    re = new RegExp(find, 'g');\n\t\t\t\tHTML = HTML.replace(re, this._settings.i18n[key]);\n\t\t\t}\n\t\n\t\t\t// inject HTML in page\n\t\t\tvar $holder = document.createElement('div');\n\t\t\t$holder.innerHTML = HTML;\n\t\t\tdocument.body.appendChild($holder.children[0]);\n\t\n\t\t\t// select DOM elements\n\t\t\tthis.$container = document.querySelector(this._settings.containerSelector);\n\t\t\tthis.$albumsContainer = this.$container.querySelector(this._settings.albumsContainerSelector);\n\t\t\tthis.$photosContainer = this.$container.querySelector(this._settings.photosContainerSelector);\n\t\t\tthis.$photosWrapper = this.$container.querySelector(this._settings.photosWrapperSelector);\n\t\t\tthis.$selectedCount = this.$container.querySelector(this._settings.selectedPhotoCountSelector);\n\t\t\tthis.$selectedCountMax = this.$container.querySelector(this._settings.selectedPhotoCountMaxSelector);\n\t\t\tthis.$pageNumber = this.$container.querySelector(this._settings.pageNumberSelector);\n\t\t\tthis.$pageNumberTotal = this.$container.querySelector(this._settings.pageNumberTotalSelector);\n\t\t\tthis.$pagePrev = this.$container.querySelector(this._settings.pagePrevSelector);\n\t\t\tthis.$pageNext = this.$container.querySelector(this._settings.pageNextSelector);\n\t\t\tthis.$backToAlbums = this.$container.querySelector(this._settings.buttonBackToAlbumsSelector);\n\t\t\tthis.$buttonClose = this.$container.querySelector(this._settings.buttonCloseSelector);\n\t\t\tthis.$buttonOK = this.$container.querySelector(this._settings.buttonOKSelector);\n\t\t\tthis.$buttonCancel = this.$container.querySelector(this._settings.buttonCancelSelector);\n\t\t\tthis.$loader = this.$container.querySelector(this._settings.loader);\n\t\t\tthis.$pagination = this.$container.querySelectorAll(this._settings.pagination);\n\t\t}\n\t\n\t\t/**\n\t  * Build the local Albums array from the Facebook response\n\t  * (If your website has already loaded the user's Facebook photos,\n\t  * pass them in here to avoid another API call)\n\t  * @param {object} input   the Facebook response\n\t  */\n\t\n\t\t_createClass(facebookPhotoSelector, [{\n\t\t\tkey: 'setAlbums',\n\t\t\tvalue: function setAlbums(input) {\n\t\t\t\tif (!input || input.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinput = Array.prototype.slice.call(input);\n\t\t\t\tinput = input.sort(this._sortPhotos);\n\t\n\t\t\t\t//albums = []; do we need this here? :|\n\t\t\t\t/*for (var i = 0; i < input.length; i++) {\n\t   \t//albums[albums.length] = input[i];\n\t   \tthis._albums.push(input[i]);\n\t   }*/\n\t\t\t\tthis._albums = input;\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Return the Albums array\n\t   * @return {array} the Albums array\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'getAlbums',\n\t\t\tvalue: function getAlbums() {\n\t\t\t\treturn this._albums;\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Build the local Photos array from the Facebook response\n\t   * @param {object} input   the Facebook response\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'setPhotos',\n\t\t\tvalue: function setPhotos(input) {\n\t\t\t\tif (!input || input.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinput = Array.prototype.slice.call(input);\n\t\t\t\tthis._photos = input;\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Return the Photos array\n\t   * @return {array} the Photos array\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'getPhotos',\n\t\t\tvalue: function getPhotos() {\n\t\t\t\treturn this._photos;\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Get an album by its Facebook id\n\t   * @param  {int} id    the album id\n\t   * @return {object}    the corresponding Album object\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'getAlbumById',\n\t\t\tvalue: function getAlbumById(id) {\n\t\t\t\tvar i, len;\n\t\t\t\tid = id.toString();\n\t\t\t\tfor (i = 0, len = this._albums.length; i < len; i += 1) {\n\t\t\t\t\tif (this._albums[i].id === id) {\n\t\t\t\t\t\treturn this._albums[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Get a photo by its Facebook id\n\t   * @param  {int} id    the photo id\n\t   * @return {object}    the corresponding Photo object\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'getPhotoById',\n\t\t\tvalue: function getPhotoById(id) {\n\t\t\t\tvar i, len;\n\t\t\t\tid = id.toString();\n\t\t\t\tfor (i = 0, len = this._photos.length; i < len; i += 1) {\n\t\t\t\t\tif (this._photos[i].id === id) {\n\t\t\t\t\t\treturn this._photos[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\t// NEWINSTANCE :|\n\t\n\t\t\t/**\n\t   * Show the photo selector UI\n\t   * (Call this from your frontend (eg. from the event listener))\n\t   * @param  {int|string}   id       the Facebook user id, or the string 'me'\n\t   * @param  {Function} callback\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'showAlbumSelector',\n\t\t\tvalue: function showAlbumSelector(id, callback) {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar i, len;\n\t\t\t\tthis._log('CSPhotoSelector - show Albums');\n\t\n\t\t\t\tid = id || 'me';\n\t\n\t\t\t\tif (!this.$albums) {\n\t\t\t\t\treturn this._buildAlbumSelector(id, function () {\n\t\t\t\t\t\t_this.showAlbumSelector(id, callback);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis._bindEvents();\n\t\t\t\t\t// Update classnames to represent the selections for this instance\n\t\t\t\t\t_DOM2.default.removeClass(this.$albums, this._settings.albumSelectedClass);\n\t\t\t\t\t_DOM2.default.removeClass(this.$albums, this._settings.albumDisabledClass);\n\t\t\t\t\t_DOM2.default.removeClass(this.$albums, this._settings.photoFilteredClass);\n\t\t\t\t\tfor (i = 0, len = this._albums.length; i < len; i += 1) {\n\t\t\t\t\t\tif (this._selectedAlbumIds.indexOf(this._albums[i].id) >= 0) {\n\t\t\t\t\t\t\t_DOM2.default.addClass(this.$albums[i], this._settings.albumSelectedClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this._disabledPhotoIds.indexOf(this._albums[i].id) >= 0) {\n\t\t\t\t\t\t\t_DOM2.default.addClass(this.$albums[i], this._settings.albumDisabledClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Update paging\n\t\t\t\t\tthis._updateAlbumContainer(1);\n\t\t\t\t\tthis._updatePaginationButtons(1);\n\t\t\t\t\t_DOM2.default.fadeIn(this.$container);\n\t\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Show the album's photos\n\t   * @param  {Function} callback\n\t   * @param  {int|string}   id       the Facebook album id\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'showPhotoSelector',\n\t\t\tvalue: function showPhotoSelector(callback, albumId) {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tvar i, len;\n\t\t\t\tthis._log('CSPhotoSelector - show Photos');\n\t\n\t\t\t\t// show loader until we get a response\n\t\t\t\t_DOM2.default.show(this.$loader);\n\t\n\t\t\t\tif (!this.$photos || albumId) {\n\t\t\t\t\treturn this._buildPhotoSelector(function () {\n\t\t\t\t\t\t_this2.showPhotoSelector(callback);\n\t\t\t\t\t}, albumId);\n\t\t\t\t} else {\n\t\t\t\t\t// Update classnames to represent the selections for this instance\n\t\t\t\t\t_DOM2.default.removeClass(this.$photos, this._settings.albumSelectedClass);\n\t\t\t\t\t_DOM2.default.removeClass(this.$photos, this._settings.albumDisabledClass);\n\t\t\t\t\t_DOM2.default.removeClass(this.$photos, this._settings.photoFilteredClass);\n\t\t\t\t\tfor (i = 0, len = this._photos.length; i < len; i += 1) {\n\t\t\t\t\t\tif (this._selectedPhotoIds.indexOf(this._photos[i].id) >= 0) {\n\t\t\t\t\t\t\t_DOM2.default.addClass(this.$photos[i], this._settings.albumSelectedClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this._disabledPhotoIds.indexOf(this._photos[i].id) >= 0) {\n\t\t\t\t\t\t\t_DOM2.default.addClass(this.$photos[i], this._settings.albumDisabledClass);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Update paging\n\t\t\t\t\tthis.$selectedCount.textContent = this._selectedPhotoIds.length;\n\t\t\t\t\tthis.$selectedCountMax.textContent = this._settings.maxSelection;\n\t\t\t\t\tthis._updatePhotosContainer(1);\n\t\t\t\t\t// _updatePaginationButtons(1);\n\t\t\t\t\t_DOM2.default.fadeIn(this.$container);\n\t\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Hide the album's photos\n\t   * @return {void}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'hidePhotoSelector',\n\t\t\tvalue: function hidePhotoSelector() {\n\t\t\t\t_DOM2.default.slideOutRight(this.$photosWrapper);\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Hide the photo selector UI\n\t   * @return {void}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'hideAlbumSelector',\n\t\t\tvalue: function hideAlbumSelector() {\n\t\t\t\tthis._unbindEvents();\n\t\t\t\t_DOM2.default.fadeOut(this.$container);\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Getter for this._selectedAlbumIds\n\t   * @return {Array} this._selectedAlbumIds\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'getselectedAlbumIds',\n\t\t\tvalue: function getselectedAlbumIds() {\n\t\t\t\treturn this._selectedAlbumIds;\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Getter for this._selectedPhotoIds\n\t   * @return {Array} this._selectedPhotoIds\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'getselectedPhotoIds',\n\t\t\tvalue: function getselectedPhotoIds() {\n\t\t\t\treturn this._selectedPhotoIds;\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Set disabled photos\n\t   * (Disabled photos are greyed out in the interface and are not selectable.)\n\t   * @param {Array} input An array of ids\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'setDisabledPhotoIds',\n\t\t\tvalue: function setDisabledPhotoIds(input) {\n\t\t\t\tthis._disabledPhotoIds = input;\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Remove selections, clear disabled list, go to page 1, etc\n\t   * @return {void}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: 'reset',\n\t\t\tvalue: function reset() {\n\t\t\t\tif (!this._albums || this._albums.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// hide the photo container\n\t\t\t\t_DOM2.default.slideOutRight(this.$photosWrapper);\n\t\t\t\t_DOM2.default.hide(this.$buttonOK);\n\t\t\t\tthis.$albumsContainer.innerHTML = '';\n\t\t\t\tthis.$photosContainer.innerHTML = '';\n\t\t\t\tthis._selectedAlbumIds = [];\n\t\t\t\tthis._selectedPhotoIds = [];\n\t\t\t\tthis.$albums = null;\n\t\t\t\tthis.$selectedCount.textContent = '0';\n\t\t\t\tthis._disabledPhotoIds = [];\n\t\t\t\tthis._updatePaginationButtons(1);\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Listener for the ESC key\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_windowEscapeListener',\n\t\t\tvalue: function _windowEscapeListener(e) {\n\t\t\t\tif (e.which === 27) {\n\t\t\t\t\t// The escape key has the same effect as the close button\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.hideAlbumSelector();\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Bind events to our UI controls\n\t   * @return {void}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_bindEvents',\n\t\t\tvalue: function _bindEvents() {\n\t\t\t\tvar _this3 = this;\n\t\n\t\t\t\tthis.$buttonClose.addEventListener('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t_this3.hideAlbumSelector();\n\t\t\t\t});\n\t\t\t\tthis.$buttonCancel.addEventListener('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t_this3.hideAlbumSelector();\n\t\t\t\t});\n\t\n\t\t\t\tthis.$buttonOK.addEventListener('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t_this3.hideAlbumSelector();\n\t\t\t\t\tif (typeof _this3._settings.callbackSubmit === 'function') {\n\t\t\t\t\t\t_this3._settings.callbackSubmit(_this3._selectedPhotoIds);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tthis.$backToAlbums.addEventListener('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t_DOM2.default.show(_this3.$pagination);\n\t\t\t\t\t_DOM2.default.hide(_this3.$buttonOK);\n\t\t\t\t\t_this3.hidePhotoSelector();\n\t\t\t\t});\n\t\n\t\t\t\tthis.$pagePrev.addEventListener('click', function (e) {\n\t\t\t\t\tvar pageNumber = parseInt(_this3.$pageNumber.textContent, 10) - 1;\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (pageNumber < 1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t_this3._updateAlbumContainer(pageNumber);\n\t\t\t\t\t_this3._updatePaginationButtons(pageNumber);\n\t\t\t\t});\n\t\n\t\t\t\tthis.$pageNext.addEventListener('click', function (e) {\n\t\t\t\t\tvar pageNumber = parseInt(_this3.$pageNumber.textContent, 10) + 1;\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (_DOM2.default.hasClass(e.target, _this3._settings.disabledClass)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t_this3._updateAlbumContainer(pageNumber);\n\t\t\t\t\t_this3._updatePaginationButtons(pageNumber);\n\t\t\t\t});\n\t\n\t\t\t\twindow.addEventListener('keydown', this._windowEscapeListener.bind(this));\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Remove event listeners from our UI controls\n\t   * @return {void}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_unbindEvents',\n\t\t\tvalue: function _unbindEvents() {\n\t\t\t\tthis.$buttonClose.removeEventListener('click');\n\t\t\t\tthis.$buttonOK.removeEventListener('click');\n\t\t\t\tthis.$buttonCancel.removeEventListener('click');\n\t\t\t\t[].forEach.call(this.$albumsContainer.children, function ($child) {\n\t\t\t\t\t$child.removeEventListener('click');\n\t\t\t\t});\n\t\t\t\t[].forEach.call(this.$photosContainer.children, function ($child) {\n\t\t\t\t\t$child.removeEventListener('click');\n\t\t\t\t});\n\t\t\t\tthis.$pagePrev.removeEventListener('click');\n\t\t\t\tthis.$pageNext.removeEventListener('click');\n\t\t\t\twindow.removeEventListener('keydown', this._windowEscapeListener);\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Set the contents of the albums container\n\t   * @param  {int} pageNumber the page number we want to show\n\t   * @return {void}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_updateAlbumContainer',\n\t\t\tvalue: function _updateAlbumContainer(pageNumber) {\n\t\t\t\tvar _this4 = this;\n\t\n\t\t\t\tvar firstIndex, lastIndex;\n\t\t\t\tfirstIndex = (pageNumber - 1) * this._settings.albumsPerPage;\n\t\t\t\tlastIndex = pageNumber * this._settings.albumsPerPage;\n\t\n\t\t\t\t/*var filtered = [].filter.call(this.$albums, ($element) => {\n\t   \treturn !DOM.hasClass($element, this._settings.photoFilteredClass);\n\t   });\n\t   filtered = filtered.slice(firstIndex, lastIndex);*/\n\t\n\t\t\t\tthis.$albumsContainer.innerHTML = '';\n\t\n\t\t\t\tfor (var i = firstIndex; i < lastIndex; i) {\n\t\t\t\t\tif (!this.$albums[i]) break;\n\t\t\t\t\tif (!_DOM2.default.hasClass(this.$albums[i], this._settings.photoFilteredClass)) {\n\t\t\t\t\t\tthis.$albumsContainer.appendChild(this.$albums[i]);\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t/*for (var i = 0; i < filtered.length; i++) {\n\t   \tthis.$albumsContainer.innerHTML += filtered[i].outerHTML;\n\t   }\n\t   this.$albums = this.$albumsContainer.children;*/\n\t\t\t\t[].forEach.call(this.$albumsContainer.children, function ($album) {\n\t\t\t\t\t$album.addEventListener('click', function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t_this4._selectAlbum($album);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Set the contents of the photos container\n\t   * @param  {int} pageNumber the page number we want to show\n\t   * @return {void}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_updatePhotosContainer',\n\t\t\tvalue: function _updatePhotosContainer(pageNumber) {\n\t\t\t\tvar _this5 = this;\n\t\n\t\t\t\tvar firstIndex, lastIndex;\n\t\t\t\tfirstIndex = (pageNumber - 1) * this._settings.photosPerPage;\n\t\t\t\tlastIndex = pageNumber * this._settings.photosPerPage;\n\t\n\t\t\t\t/*var filtered = [].filter.call(this.$photos, ($element) => {\n\t   \treturn !DOM.hasClass($element, this._settings.photoFilteredClass);\n\t   });\n\t   filtered = filtered.slice(firstIndex, lastIndex);*/\n\t\n\t\t\t\tthis.$photosContainer.innerHTML = '';\n\t\n\t\t\t\tfor (var i = firstIndex; i < lastIndex; i) {\n\t\t\t\t\tif (!this.$photos[i]) break;\n\t\t\t\t\tif (!_DOM2.default.hasClass(this.$photos[i], this._settings.photoFilteredClass)) {\n\t\t\t\t\t\tthis.$photosContainer.appendChild(this.$photos[i]);\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t[].forEach.call(this.$photosContainer.children, function ($photo) {\n\t\t\t\t\t$photo.addEventListener('click', function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t_this5._selectPhotos($photo);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Update the contents of the pagination buttons\n\t   * @param  {int} pageNumber the page number we want to show\n\t   * @return {void}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_updatePaginationButtons',\n\t\t\tvalue: function _updatePaginationButtons(pageNumber) {\n\t\t\t\tvar numPages = Math.ceil(this._albums.length / this._settings.albumsPerPage);\n\t\t\t\tthis.$pageNumber.textContent = pageNumber;\n\t\t\t\tthis.$pageNumberTotal.textContent = numPages;\n\t\t\t\tif (pageNumber === 1 || numPages === 1) {\n\t\t\t\t\t_DOM2.default.addClass(this.$pagePrev, this._settings.disabledClass);\n\t\t\t\t} else {\n\t\t\t\t\t_DOM2.default.removeClass(this.$pagePrev, this._settings.disabledClass);\n\t\t\t\t}\n\t\t\t\tif (pageNumber === numPages || numPages === 1) {\n\t\t\t\t\t_DOM2.default.addClass(this.$pageNext, this._settings.disabledClass);\n\t\t\t\t} else {\n\t\t\t\t\t_DOM2.default.removeClass(this.$pageNext, this._settings.disabledClass);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Select album and show its photos\n\t   * @param  {Element} $album\n\t   * @return {void}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_selectAlbum',\n\t\t\tvalue: function _selectAlbum($album) {\n\t\t\t\tvar albumId, i, len, removedId;\n\t\t\t\talbumId = $album.getAttribute('data-id');\n\t\n\t\t\t\t// If the album is disabled, ignore this\n\t\t\t\tif (_DOM2.default.hasClass($album, this._settings.albumDisabledClass)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (!_DOM2.default.hasClass($album, this._settings.albumSelectedClass)) {\n\t\t\t\t\t// If autoDeselection is enabled and they have already selected the max number of albums, deselect the first album\n\t\t\t\t\tif (this._settings.autoDeselection && this._selectedAlbumIds.length === this._settings.maxSelection) {\n\t\t\t\t\t\tremovedId = this._selectedAlbumIds.splice(0, 1);\n\t\t\t\t\t\t_DOM2.default.removeClass(this.$getAlbumById(removedId), this._settings.albumSelectedClass);\n\t\t\t\t\t\tthis.$selectedCount.textContent = this._selectedAlbumIds.length;\n\t\t\t\t\t}\n\t\t\t\t\tif (this._selectedAlbumIds.length < this._settings.maxSelection) {\n\t\t\t\t\t\t// Add album to this._selectedAlbumIds\n\t\t\t\t\t\tif (this._selectedAlbumIds.indexOf(albumId) < 0) {\n\t\t\t\t\t\t\tthis._selectedAlbumIds.push(albumId);\n\t\t\t\t\t\t\t_DOM2.default.addClass($album, this._settings.albumSelectedClass);\n\t\t\t\t\t\t\tthis.$selectedCount.textContent = this._selectedAlbumIds.length;\n\t\t\t\t\t\t\tthis._log('CSPhotoSelector - newInstance - _selectAlbum - selected IDs: ', this._selectedAlbumIds);\n\t\t\t\t\t\t\tif (typeof this._settings.callbackAlbumSelected === \"function\") {\n\t\t\t\t\t\t\t\tthis._settings.callbackAlbumSelected(albumId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._log('CSPhotoSelector - newInstance - _selectAlbum - ID already stored');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Remove album from this._selectedAlbumIds\n\t\t\t\t\tfor (i = 0, len = this._selectedAlbumIds.length; i < len; i += 1) {\n\t\t\t\t\t\tif (this._selectedAlbumIds[i] === albumId) {\n\t\t\t\t\t\t\tthis._selectedAlbumIds.splice(i, 1);\n\t\t\t\t\t\t\t_DOM2.default.removeClass($album, this._settings.albumSelectedClass);\n\t\t\t\t\t\t\tthis.$selectedCount.textContent = this._selectedAlbumIds.length;\n\t\t\t\t\t\t\tif (typeof this._settings.callbackAlbumUnselected === \"function\") {\n\t\t\t\t\t\t\t\tthis._settings.callbackAlbumUnselected(albumId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (this._selectedAlbumIds.length === this._settings.maxSelection) {\n\t\t\t\t\tif (typeof this._settings.callbackMaxSelection === \"function\") {\n\t\t\t\t\t\tthis._settings.callbackMaxSelection();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Select photo and add its id to the list\n\t   * @param  {Element} $photo\n\t   * @return {void}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_selectPhotos',\n\t\t\tvalue: function _selectPhotos($photo) {\n\t\t\t\tvar photoId, i, len, removedId;\n\t\t\t\tphotoId = $photo.getAttribute('data-id');\n\t\n\t\t\t\t// If the photo is disabled, ignore this\n\t\t\t\tif (_DOM2.default.hasClass($photo, this._settings.albumDisabledClass)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (!_DOM2.default.hasClass($photo, this._settings.albumSelectedClass)) {\n\t\t\t\t\t// If autoDeselection is enabled and they have already selected the max number of photos, deselect the first photo\n\t\t\t\t\tif (this._settings.autoDeselection && this._selectedPhotoIds.length === this._settings.maxSelection) {\n\t\t\t\t\t\tremovedId = this._selectedPhotoIds.splice(0, 1);\n\t\t\t\t\t\t_DOM2.default.removeClass(this.$getPhotoById(removedId), this._settings.albumSelectedClass);\n\t\t\t\t\t\tthis.$selectedCount.textContent = this._selectedPhotoIds.length;\n\t\t\t\t\t}\n\t\t\t\t\tif (this._selectedPhotoIds.length < this._settings.maxSelection) {\n\t\t\t\t\t\t// Add photo to this._selectedPhotoIds\n\t\t\t\t\t\tif (this._selectedPhotoIds.indexOf(photoId) < 0) {\n\t\t\t\t\t\t\tthis._selectedPhotoIds.push(photoId);\n\t\t\t\t\t\t\t_DOM2.default.addClass($photo, this._settings.albumSelectedClass);\n\t\t\t\t\t\t\tthis.$selectedCount.textContent = this._selectedPhotoIds.length;\n\t\t\t\t\t\t\tthis._log('CSPhotoSelector - newInstance - selectPhoto - selected IDs: ', this._selectedPhotoIds);\n\t\t\t\t\t\t\tif (typeof this._settings.callbackPhotoSelected === \"function\") {\n\t\t\t\t\t\t\t\tthis._settings.callbackPhotoSelected(photoId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._log('CSPhotoSelector - newInstance - selectPhoto - ID already stored');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Remove photo from this._selectedPhotoIds\n\t\t\t\t\tfor (i = 0, len = this._selectedPhotoIds.length; i < len; i += 1) {\n\t\t\t\t\t\tif (this._selectedPhotoIds[i] === photoId) {\n\t\t\t\t\t\t\tthis._selectedPhotoIds.splice(i, 1);\n\t\t\t\t\t\t\t_DOM2.default.removeClass($photo, this._settings.albumSelectedClass);\n\t\t\t\t\t\t\tthis.$selectedCount.textContent = this._selectedPhotoIds.length;\n\t\t\t\t\t\t\tif (typeof this._settings.callbackPhotoUnselected === \"function\") {\n\t\t\t\t\t\t\t\tthis._settings.callbackPhotoUnselected(photoId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tif (this._selectedPhotoIds.length) {\n\t\t\t\t\t_DOM2.default.show(this.$buttonOK);\n\t\t\t\t} else {\n\t\t\t\t\t_DOM2.default.hide(this.$buttonOK);\n\t\t\t\t}\n\t\n\t\t\t\tif (this._selectedPhotoIds.length === this._settings.maxSelection) {\n\t\t\t\t\tif (typeof this._settings.callbackMaxSelection === \"function\") {\n\t\t\t\t\t\tthis._settings.callbackMaxSelection();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\t// this._log(this._selectedPhotoIds);\n\t\t\t}\n\t\n\t\t\t// END NEWINSTANCE :|\n\t\n\t\t\t/**\n\t   * Get an album by its Facebook id\n\t   * @param  {int} id    the album id\n\t   * @return {Element}   the HTML element of the corresponding Album\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '$getAlbumById',\n\t\t\tvalue: function $getAlbumById(id) {\n\t\t\t\tvar i, len;\n\t\t\t\tid = id.toString();\n\t\t\t\tfor (i = 0, len = this._albums.length; i < len; i += 1) {\n\t\t\t\t\tif (this._albums[i].id === id) {\n\t\t\t\t\t\treturn this.$albums[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Get a photo by its Facebook id\n\t   * @param  {int} id    the photo id\n\t   * @return {Element}    the HTML element of the corresponding Photo\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '$getPhotoById',\n\t\t\tvalue: function $getPhotoById(id) {\n\t\t\t\tvar i, len;\n\t\t\t\tid = id.toString();\n\t\t\t\tfor (i = 0, len = this._photos.length; i < len; i += 1) {\n\t\t\t\t\tif (this._photos[i].id === id) {\n\t\t\t\t\t\treturn this.$photos[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Load the Facebook albums and build the markup\n\t   * @param  {int}   id           the Facebook user id\n\t   * @param  {Function} callback\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_buildAlbumSelector',\n\t\t\tvalue: function _buildAlbumSelector(id, callback) {\n\t\t\t\tvar _this6 = this;\n\t\n\t\t\t\tvar buildMarkup, buildAlbumMarkup;\n\t\t\t\tthis._log(\"buildAlbumSelector\");\n\t\t\t\t_DOM2.default.show(this.$pagination);\n\t\n\t\t\t\tif (!FB) {\n\t\t\t\t\tthis._log('The Facebook SDK must be initialised before showing the photo selector');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\n\t\t\t\t// Check that the user is logged in to Facebook\n\t\t\t\tFB.getLoginStatus(function (response) {\n\t\t\t\t\tif (response.status === 'connected') {\n\t\t\t\t\t\tvar accessToken = response.authResponse.accessToken;\n\t\t\t\t\t\t// Load Facebook photos\n\t\t\t\t\t\tFB.api('/' + id + '/albums', function (response) {\n\t\t\t\t\t\t\tif (response.data.length) {\n\t\t\t\t\t\t\t\t_this6.setAlbums(response.data);\n\t\t\t\t\t\t\t\t// Build the markup\n\t\t\t\t\t\t\t\tbuildMarkup(accessToken);\n\t\t\t\t\t\t\t\t// Call the callback\n\t\t\t\t\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert(_this6._settings.i18n.permission_error);\n\t\t\t\t\t\t\t\t_this6._log('CSPhotoSelector - buildAlbumSelector - No albums returned');\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this6._log('CSPhotoSelector - buildAlbumSelector - User is not logged in to Facebook');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\t// Build the markup of the album selector\n\t\t\t\tbuildMarkup = function (accessToken) {\n\t\t\t\t\t// loop through photo albums\n\t\t\t\t\tvar i,\n\t\t\t\t\t    len,\n\t\t\t\t\t    html = [];\n\t\t\t\t\t//$div = document.createElement('div');\n\t\t\t\t\tfor (i = 0, len = _this6._albums.length; i < len; i += 1) {\n\t\t\t\t\t\tvar elementMarkup = buildAlbumMarkup(_this6._albums[i], accessToken),\n\t\t\t\t\t\t    $element = document.createElement('div');\n\t\t\t\t\t\t$element.innerHTML = elementMarkup;\n\t\t\t\t\t\thtml.push($element.children[0]);\n\t\t\t\t\t\t//$div.innerHTML += elementMarkup;\n\t\t\t\t\t}\n\t\t\t\t\t_this6.$albums = html;\n\t\t\t\t};\n\t\n\t\t\t\t// Return the markup for a single album\n\t\t\t\tbuildAlbumMarkup = function (album, accessToken) {\n\t\t\t\t\treturn '<a href=\"#\" class=\"PhotoSelector_album\" data-id=\"' + album.id + '\">' + '<div class=\"PhotoSelector_albumWrap\"><div>' + '<img src=\"https://graph.facebook.com/' + album.id + '/picture?type=album&access_token=' + accessToken + '\" alt=\"' + _this6._htmlEntities(album.name) + '\" class=\"PhotoSelector_photoAvatar\" />' + '</div></div>' + '<div class=\"PhotoSelector_photoName\">' + _this6._htmlEntities(album.name) + '</div>' + '</a>';\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Load the Facebook photos and build the markup\n\t   * @param  {Function} callback\n\t   * @param  {int}   albumId           the Facebook album id\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_buildPhotoSelector',\n\t\t\tvalue: function _buildPhotoSelector(callback, albumId) {\n\t\t\t\tvar _this7 = this;\n\t\n\t\t\t\tvar buildSecondMarkup, buildPhotoMarkup;\n\t\t\t\tthis._log(\"buildPhotoSelector\");\n\t\n\t\t\t\tFB.api('/' + albumId + '/photos?fields=id,picture,source,height,width,images&limit=500', function (response) {\n\t\t\t\t\tif (response.data) {\n\t\t\t\t\t\t_this7.setPhotos(response.data);\n\t\t\t\t\t\t// Build the markup\n\t\t\t\t\t\tbuildSecondMarkup();\n\t\t\t\t\t\t// Call the callback\n\t\t\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t// hide the loader and pagination\n\t\t\t\t\t\t\t_DOM2.default.hide(_this7.$loader);\n\t\t\t\t\t\t\t_DOM2.default.hide(_this7.$pagination);\n\t\t\t\t\t\t\t// set the photo container to active\n\t\t\t\t\t\t\t_DOM2.default.slideInRight(_this7.$photosWrapper);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this7._log('CSPhotoSelector - showPhotoSelector - No photos returned');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\t// Build the markup of the photo selector\n\t\t\t\tbuildSecondMarkup = function () {\n\t\t\t\t\t//loop through photos\n\t\t\t\t\tvar i,\n\t\t\t\t\t    len,\n\t\t\t\t\t    html = [];\n\t\t\t\t\t//    $div = document.createElement('div');\n\t\n\t\t\t\t\t// if photos is empty, we need to try again\n\t\t\t\t\tif (!_this7._photos.length) {\n\t\t\t\t\t\t_this7._buildPhotoSelector(null, albumId);\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0, len = _this7._photos.length; i < len; i += 1) {\n\t\t\t\t\t\tvar elementMarkup = buildPhotoMarkup(_this7._photos[i]),\n\t\t\t\t\t\t    $element = document.createElement('div');\n\t\t\t\t\t\t$element.innerHTML = elementMarkup;\n\t\t\t\t\t\thtml.push($element.children[0]);\n\t\t\t\t\t\t//$div.innerHTML += elementMarkup;\n\t\t\t\t\t}\n\t\n\t\t\t\t\t_this7.$photos = html;\n\t\t\t\t};\n\t\n\t\t\t\tbuildPhotoMarkup = function (photo) {\n\t\t\t\t\treturn '<a href=\"#\" class=\"PhotoSelector_photo PhotoSelector_clearfix\" data-id=\"' + photo.id + '\">' + '<span><img src=\"' + photo.picture + '\" alt=\"\" class=\"PhotoSelector_photoAvatar\" /></span>' + '</a>';\n\t\t\t\t};\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Sort photos alphabetically by name (for Array.sort)\n\t   * @param  {object} photo1 the first photo\n\t   * @param  {object} photo2 the second photo\n\t   * @return {int}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_sortPhotos',\n\t\t\tvalue: function _sortPhotos(photo1, photo2) {\n\t\t\t\tif (photo1.upperCaseName === photo2.upperCaseName) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tif (photo1.upperCaseName > photo2.upperCaseName) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif (photo1.upperCaseName < photo2.upperCaseName) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Console.log wrapper (only logs if the debug setting is true)\n\t   * @return {void}\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_log',\n\t\t\tvalue: function _log() {\n\t\t\t\tif (this._settings.debug && window.console) {\n\t\t\t\t\tconsole.log(Array.prototype.slice.call(arguments));\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t/**\n\t   * Replace HTML tags in a string with encoded entities\n\t   * @param  {string} str the HTML to be cleaned\n\t   * @return {string}     the cleaned string\n\t   */\n\t\n\t\t}, {\n\t\t\tkey: '_htmlEntities',\n\t\t\tvalue: function _htmlEntities(str) {\n\t\t\t\tif (!str) return '';\n\t\t\t\treturn String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn facebookPhotoSelector;\n\t})();\n\t\n\tfacebookPhotoSelector._defaultSettings = {\n\t\t// generic\n\t\tspeed: 100,\n\t\tdebug: false,\n\t\n\t\t// originale \"instance\" settings\n\t\tmaxSelection: 1,\n\t\talbumsPerPage: 6,\n\t\tphotosPerPage: 10,\n\t\tautoDeselection: true, // Allow the user to keep on selecting once they reach maxSelection, and just deselect the first selected photo\n\t\tcallbackAlbumSelected: null,\n\t\tcallbackAlbumUnselected: null,\n\t\tcallbackPhotoSelected: null,\n\t\tcallbackPhotoUnselected: null,\n\t\tcallbackMaxSelection: null,\n\t\tcallbackSubmit: null,\n\t\n\t\t// original \"global\" settings\n\t\tdisabledClass: 'PhotoSelector_disabled',\n\t\talbumSelectedClass: 'PhotoSelector_photoSelected',\n\t\talbumDisabledClass: 'PhotoSelector_photoDisabled',\n\t\tphotoFilteredClass: 'PhotoSelector_photoFiltered',\n\t\tcontainerSelector: '#PhotoSelector',\n\t\talbumsContainerSelector: '.PhotoSelector_albumContainer',\n\t\tphotosContainerSelector: '.PhotoSelector_photoContainer',\n\t\tphotosWrapperSelector: '.PhotoSelector_wrapper',\n\t\tselectedPhotoCountSelector: '.PhotoSelector_selectedPhotoCount',\n\t\tselectedPhotoCountMaxSelector: '.PhotoSelector_selectedPhotoCountMax',\n\t\tpageNumberSelector: '#PhotoSelector_pageNumber',\n\t\tpageNumberTotalSelector: '#PhotoSelector_pageNumberTotal',\n\t\tpagePrevSelector: '#PhotoSelector_pagePrev',\n\t\tpageNextSelector: '#PhotoSelector_pageNext',\n\t\tbuttonBackToAlbumsSelector: '#PhotoSelector_backToAlbums',\n\t\tbuttonCloseSelector: '#PhotoSelector_buttonClose',\n\t\tbuttonOKSelector: '#PhotoSelector_buttonOK',\n\t\tbuttonCancelSelector: '#PhotoSelector_buttonCancel',\n\t\tloader: '#PhotoSelector_loader',\n\t\tpagination: '.PhotoSelector_pageNumberContainer, #PhotoSelector_pagePrev, #PhotoSelector_pageNext',\n\t\n\t\t// internationalization\n\t\ti18n: {\n\t\t\tchoose: 'Choose from Photos',\n\t\t\tbrowse_albums: 'Browse your albums until you find a picture you want to use',\n\t\t\tselect_an_album: 'Select an album',\n\t\t\tselect_a_photo: 'Select a new photo',\n\t\t\tphotos_selected: 'photo(s) selected',\n\t\t\tback_to_albums: 'Back to albums',\n\t\t\tprevious: 'Previous',\n\t\t\tnext: 'Next',\n\t\t\tpage: 'Page',\n\t\t\tOK: 'OK',\n\t\t\tcancel: 'Cancel',\n\t\t\tpermission_error: 'It looks like we don’t have permission to see the pictures. Please log out and log in again'\n\t\t}\n\t};\n\t\n\tfacebookPhotoSelector._HTML = '\\n<div id=\"PhotoSelector\" hidden>\\n  <div class=\"PhotoSelector_dialog\">\\n    <a href=\"#\" id=\"PhotoSelector_buttonClose\">&times;</a>\\n    <div class=\"PhotoSelector_form\">\\n      <div class=\"PhotoSelector_header\">\\n        <p>{choose}</p>\\n      </div>\\n\\n      <div class=\"PhotoSelector_content AlbumSelector_wrapper\">\\n        <p>{browse_albums}</p>\\n        <div class=\"PhotoSelector_searchContainer PhotoSelector_clearfix\">\\n          <div class=\"PhotoSelector_selectedCountContainer\">{select_an_album}</div>\\n        </div>\\n        <div class=\"PhotoSelector_photosContainer PhotoSelector_albumContainer\"></div>\\n      </div>\\n\\n      <div class=\"PhotoSelector_content PhotoSelector_wrapper\" hidden>\\n        <p>{select_a_photo}</p>\\n        <div class=\"PhotoSelector_searchContainer PhotoSelector_clearfix\">\\n          <div class=\"PhotoSelector_selectedCountContainer\"><span class=\"PhotoSelector_selectedPhotoCount\">0</span> / <span class=\"PhotoSelector_selectedPhotoCountMax\">0</span> {photos_selected}</div>\\n          <a href=\"#\" id=\"PhotoSelector_backToAlbums\">{back_to_albums}</a>\\n        </div>\\n        <div class=\"PhotoSelector_photosContainer PhotoSelector_photoContainer\"></div>\\n      </div>\\n\\n      <div id=\"PhotoSelector_loader\" hidden></div>\\n\\n\\n      <div class=\"PhotoSelector_footer PhotoSelector_clearfix\">\\n        <a href=\"#\" id=\"PhotoSelector_pagePrev\" class=\"PhotoSelector_disabled\" hidden>{previous}</a>\\n        <a href=\"#\" id=\"PhotoSelector_pageNext\" hidden>{next}</a>\\n        <div class=\"PhotoSelector_pageNumberContainer\" hidden>\\n          {page} <span id=\"PhotoSelector_pageNumber\">1</span> / <span id=\"PhotoSelector_pageNumberTotal\">1</span>\\n        </div>\\n        <a href=\"#\" id=\"PhotoSelector_buttonOK\">{OK}</a>\\n        <a href=\"#\" id=\"PhotoSelector_buttonCancel\">{cancel}</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n';\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\tfunction _elize(element) {\n\t\treturn typeof element === 'string' ? document.querySelectorAll(element) : element;\n\t}\n\t\n\tfunction addClass(element, className) {\n\t\tif (!element) return;\n\t\telement = _elize(element);\n\t\n\t\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\t\taddClass(element[i], className);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\tif (hasClass(element, className)) return;\n\t\n\t\tif (element.classList) element.classList.add(className);else element.className += ' ' + className;\n\t}\n\t\n\tfunction removeClass(element, className) {\n\t\tif (!element) return;\n\t\telement = _elize(element);\n\t\n\t\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\t\tremoveClass(element[i], className);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (element.classList) element.classList.remove(className);else element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n\t}\n\t\n\tfunction hasClass(element, className) {\n\t\tif (!element) return;\n\t\telement = _elize(element);\n\t\n\t\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\t\tvar ret = true;\n\t\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\t\tif (!hasClass(element[i], className)) ret = false;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t\n\t\tif (element.classList) return element.classList.contains(className);else return new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\n\t}\n\t\n\tfunction toggleClass(element, className, value) {\n\t\tif (!element) return;\n\t\telement = _elize(element);\n\t\n\t\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\t\ttoggleClass(element[i], className, value);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\tif (value) addClass(element, className);else removeClass(element, className);\n\t}\n\t\n\tfunction css(element, rule) {\n\t\tif (!element) return;\n\t\telement = _elize(element);\n\t\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\t\telement = element[0];\n\t\t}\n\t\treturn getComputedStyle(element).getPropertyValue(rule);\n\t}\n\t\n\t// ANIMATIONS\n\t\n\tfunction show(element) {\n\t\tif (!element) return;\n\t\telement = _elize(element);\n\t\n\t\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\t\tshow(element[i]);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\telement.removeAttribute('hidden');\n\t}\n\t\n\tfunction hide(element) {\n\t\tif (!element) return;\n\t\telement = _elize(element);\n\t\n\t\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\t\thide(element[i]);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\telement.setAttribute('hidden', true);\n\t}\n\t\n\tfunction fadeIn(element) {\n\t\tif (!element) return;\n\t\t_setUpAnimationStylesheet();\n\t\telement = _elize(element);\n\t\n\t\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\t\tfadeIn(element[i]);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\telement.removeAttribute('hidden');\n\t\tvar onEnd = function onEnd(e) {\n\t\t\tremoveClass(e.target, 'PSanimated');\n\t\t\tremoveClass(e.target, 'PSfadeIn');\n\t\t\t_prefixedRemoveEvent(element, 'AnimationEnd', onEnd);\n\t\t};\n\t\t_prefixedEvent(element, 'AnimationEnd', onEnd);\n\t\taddClass(element, 'PSanimated');\n\t\taddClass(element, 'PSfadeIn');\n\t}\n\t\n\tfunction fadeOut(element) {\n\t\tif (!element) return;\n\t\t_setUpAnimationStylesheet();\n\t\telement = _elize(element);\n\t\n\t\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\t\tfadeOut(element[i]);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar onEnd = function onEnd(e) {\n\t\t\te.target.setAttribute('hidden', true);\n\t\t\tremoveClass(e.target, 'PSanimated');\n\t\t\tremoveClass(e.target, 'PSfadeOut');\n\t\t\t_prefixedRemoveEvent(element, 'AnimationEnd', onEnd);\n\t\t};\n\t\t_prefixedEvent(element, 'AnimationEnd', onEnd);\n\t\taddClass(element, 'PSanimated');\n\t\taddClass(element, 'PSfadeOut');\n\t}\n\t\n\tfunction slideInRight(element) {\n\t\tif (!element) return;\n\t\t_setUpAnimationStylesheet();\n\t\telement = _elize(element);\n\t\n\t\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\t\tslideInRight(element[i]);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\telement.removeAttribute('hidden');\n\t\tvar onEnd = function onEnd(e) {\n\t\t\tremoveClass(e.target, 'PSanimated');\n\t\t\tremoveClass(e.target, 'PSslideInRight');\n\t\t\t_prefixedRemoveEvent(element, 'AnimationEnd', onEnd);\n\t\t};\n\t\t_prefixedEvent(element, 'AnimationEnd', onEnd);\n\t\taddClass(element, 'PSanimated');\n\t\taddClass(element, 'PSslideInRight');\n\t}\n\t\n\tfunction slideOutRight(element) {\n\t\tif (!element) return;\n\t\t_setUpAnimationStylesheet();\n\t\telement = _elize(element);\n\t\n\t\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\t\tslideOutRight(element[i]);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar onEnd = function onEnd(e) {\n\t\t\te.target.setAttribute('hidden', true);\n\t\t\tremoveClass(e.target, 'PSanimated');\n\t\t\tremoveClass(e.target, 'PSslideOutRight');\n\t\t\t_prefixedRemoveEvent(element, 'AnimationEnd', onEnd);\n\t\t};\n\t\t_prefixedEvent(element, 'AnimationEnd', onEnd);\n\t\taddClass(element, 'PSanimated');\n\t\taddClass(element, 'PSslideOutRight');\n\t}\n\t\n\tvar _animationStylesheet = false;\n\t\n\tfunction _addRuleToStyle(sheet, selector, rules) {\n\t\tsheet.insertRule(selector + '{' + rules + '}', 0);\n\t}\n\t\n\tfunction _setUpAnimationStylesheet() {\n\t\n\t\tif (_animationStylesheet) return;\n\t\n\t\t// Create the <style> tag\n\t\tvar style = document.createElement('style');\n\t\n\t\t// Add a media (and/or media query) here if you'd like!\n\t\t// style.setAttribute('media', 'screen')\n\t\t// style.setAttribute('media', 'only screen and (max-width : 1024px)')\n\t\n\t\t// WebKit hack :(\n\t\tstyle.appendChild(document.createTextNode(''));\n\t\n\t\t// Add the <style> element to the page\n\t\tdocument.head.appendChild(style);\n\t\n\t\t_animationStylesheet = style.sheet;\n\t\n\t\t_addRuleToStyle(_animationStylesheet, '.PSanimated', '\\n\\t\\tanimation-duration: 0.35s; -webkit-animation-duration: 0.35s;\\n\\t\\tanimation-fill-mode: both; -webkit-animation-fill-mode: both;\\n\\t\\tanimation-timing-function: ease-in-out; -webkit-animation-timing-function: ease-in-out;\\n\\t');\n\t\n\t\tvar animations = {\n\t\t\tfadeIn: '\\n\\t\\t\\t0% { opacity: 0; }\\n\\t\\t\\t70% { opacity: 1; }\\n\\t\\t\\t100% { opacity: 1; }\\n\\t\\t',\n\t\t\tfadeOut: '\\n\\t\\t\\t0% { opacity: 1; }\\n\\t\\t\\t70% { opacity: 0; }\\n\\t\\t\\t100% { opacity: 0; }\\n\\t\\t',\n\t\t\tslideInRight: '\\n\\t\\t\\tfrom {\\n\\t\\t\\t\\ttransform: translate3d(100%, 0, 0); -webkit-transform: translate3d(100%, 0, 0);\\n\\t\\t\\t\\tvisibility: visible;\\n\\t\\t\\t}\\n\\t\\t\\tto { transform: translate3d(0, 0, 0); -webkit-transform: translate3d(0, 0, 0); }\\n\\t\\t',\n\t\t\tslideOutRight: '\\n\\t\\t\\tfrom { transform: translate3d(0, 0, 0); -webkit-transform: translate3d(0, 0, 0); }\\n\\t\\t\\tto {\\n\\t\\t\\t\\tvisibility: hidden;\\n\\t\\t\\t\\ttransform: translate3d(100%, 0, 0); -webkit-transform: translate3d(100%, 0, 0);\\n\\t\\t\\t}\\n\\t\\t'\n\t\t};\n\t\n\t\tfor (var key in animations) {\n\t\n\t\t\t_addRuleToStyle(_animationStylesheet, '@-webkit-keyframes PS' + key, animations[key]);\n\t\t\t_addRuleToStyle(_animationStylesheet, '@keyframes PS' + key, animations[key]);\n\t\n\t\t\t_addRuleToStyle(_animationStylesheet, '.PS' + key, '\\n\\t\\t\\tanimation-name: PS' + key + '; -webkit-animation-name: PS' + key + ';\\n\\t\\t');\n\t\t}\n\t}\n\t\n\tvar _prefixes = ['webkit', 'moz', 'MS', 'o', ''];\n\tfunction _prefixedEvent(element, type, callback) {\n\t\telement = _elize(element);\n\t\tfor (var p = 0; p < _prefixes.length; p++) {\n\t\t\tif (!_prefixes[p]) type = type.toLowerCase();\n\t\t\telement.addEventListener(_prefixes[p] + type, callback, false);\n\t\t}\n\t}\n\tfunction _prefixedRemoveEvent(element, type, callback) {\n\t\telement = _elize(element);\n\t\tfor (var p = 0; p < _prefixes.length; p++) {\n\t\t\tif (!_prefixes[p]) type = type.toLowerCase();\n\t\t\telement.removeEventListener(_prefixes[p] + type, callback);\n\t\t}\n\t}\n\t\n\texports.default = {\n\t\taddClass: addClass,\n\t\tremoveClass: removeClass,\n\t\thasClass: hasClass,\n\t\ttoggleClass: toggleClass,\n\t\tcss: css,\n\t\tshow: show,\n\t\thide: hide,\n\t\tfadeIn: fadeIn,\n\t\tfadeOut: fadeOut,\n\t\tslideInRight: slideInRight,\n\t\tslideOutRight: slideOutRight\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\t\n\tfunction merge(out) {\n\t    out = out || {};\n\t\n\t    for (var i = 1; i < arguments.length; i++) {\n\t        var obj = arguments[i];\n\t\n\t        if (!obj) continue;\n\t\n\t        for (var key in obj) {\n\t            if (obj.hasOwnProperty(key)) {\n\t                if (_typeof(obj[key]) === 'object') out[key] = merge(out[key], obj[key]);else out[key] = obj[key];\n\t            }\n\t        }\n\t    }\n\t\n\t    return out;\n\t}\n\t\n\texports.default = {\n\t    merge: merge\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** facebook-photo-selector.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9b6a5b9660ed4b3a3019\n **/","import DOM from './DOM';\nimport utils from './utils';\n\nexport class facebookPhotoSelector {\n\n\tconstructor(settings) {\n\n\t\t// variables\n\t\tthis._albums = [];\n\t\tthis._photos = [];\n\t\tthis._selectedAlbumIds = [];\n\t\tthis._selectedPhotoIds = [];\n\t\tthis._disabledPhotoIds = [];\n\t\tthis.$albums = null;\n\n\t\t// override default settings with arguments\n\t\tthis._settings = utils.merge({}, this.constructor._defaultSettings, settings);\n\n\t\t// translate HTML\n\t\tvar HTML = this.constructor._HTML;\n\t\tfor (let key in this._settings.i18n) {\n\t\t\tlet find = `\\{${key}\\}`,\n\t\t\t    re = new RegExp(find, 'g');\n\t\t\tHTML = HTML.replace(re, this._settings.i18n[key]);\n\t\t}\n\n\t\t// inject HTML in page\n\t\tvar $holder = document.createElement('div');\n\t\t$holder.innerHTML = HTML;\n\t\tdocument.body.appendChild($holder.children[0]);\n\n\t\t// select DOM elements\n\t\tthis.$container         = document.querySelector(this._settings.containerSelector);\n\t\tthis.$albumsContainer   = this.$container.querySelector(this._settings.albumsContainerSelector);\n\t\tthis.$photosContainer   = this.$container.querySelector(this._settings.photosContainerSelector);\n\t\tthis.$photosWrapper     = this.$container.querySelector(this._settings.photosWrapperSelector);\n\t\tthis.$selectedCount     = this.$container.querySelector(this._settings.selectedPhotoCountSelector);\n\t\tthis.$selectedCountMax  = this.$container.querySelector(this._settings.selectedPhotoCountMaxSelector);\n\t\tthis.$pageNumber        = this.$container.querySelector(this._settings.pageNumberSelector);\n\t\tthis.$pageNumberTotal   = this.$container.querySelector(this._settings.pageNumberTotalSelector);\n\t\tthis.$pagePrev          = this.$container.querySelector(this._settings.pagePrevSelector);\n\t\tthis.$pageNext          = this.$container.querySelector(this._settings.pageNextSelector);\n\t\tthis.$backToAlbums      = this.$container.querySelector(this._settings.buttonBackToAlbumsSelector);\n\t\tthis.$buttonClose       = this.$container.querySelector(this._settings.buttonCloseSelector);\n\t\tthis.$buttonOK          = this.$container.querySelector(this._settings.buttonOKSelector);\n\t\tthis.$buttonCancel      = this.$container.querySelector(this._settings.buttonCancelSelector);\n\t\tthis.$loader            = this.$container.querySelector(this._settings.loader);\n\t\tthis.$pagination        = this.$container.querySelectorAll(this._settings.pagination);\n\t}\n\n\t/**\n\t * Build the local Albums array from the Facebook response\n\t * (If your website has already loaded the user's Facebook photos,\n\t * pass them in here to avoid another API call)\n\t * @param {object} input   the Facebook response\n\t */\n\tsetAlbums(input) {\n\t\tif (!input || input.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tinput = Array.prototype.slice.call(input);\n\t\tinput = input.sort(this._sortPhotos);\n\n\t\t//albums = []; do we need this here? :|\n\t\t/*for (var i = 0; i < input.length; i++) {\n\t\t\t//albums[albums.length] = input[i];\n\t\t\tthis._albums.push(input[i]);\n\t\t}*/\n\t\tthis._albums = input;\n\t}\n\n\t/**\n\t * Return the Albums array\n\t * @return {array} the Albums array\n\t */\n\tgetAlbums() {\n\t\treturn this._albums;\n\t}\n\n\t/**\n\t * Build the local Photos array from the Facebook response\n\t * @param {object} input   the Facebook response\n\t */\n\tsetPhotos(input) {\n\t\tif (!input || input.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tinput = Array.prototype.slice.call(input);\n\t\tthis._photos = input;\n\t}\n\n\t/**\n\t * Return the Photos array\n\t * @return {array} the Photos array\n\t */\n\tgetPhotos() {\n\t\treturn this._photos;\n\t}\n\n\t/**\n\t * Get an album by its Facebook id\n\t * @param  {int} id    the album id\n\t * @return {object}    the corresponding Album object\n\t */\n\tgetAlbumById(id) {\n\t\tvar i, len;\n\t\tid = id.toString();\n\t\tfor (i = 0, len = this._albums.length; i < len; i += 1) {\n\t\t\tif (this._albums[i].id === id) {\n\t\t\t\treturn this._albums[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Get a photo by its Facebook id\n\t * @param  {int} id    the photo id\n\t * @return {object}    the corresponding Photo object\n\t */\n\tgetPhotoById(id) {\n\t\tvar i, len;\n\t\tid = id.toString();\n\t\tfor (i = 0, len = this._photos.length; i < len; i += 1) {\n\t\t\tif (this._photos[i].id === id) {\n\t\t\t\treturn this._photos[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t// NEWINSTANCE :|\n\n\t\t/**\n\t\t * Show the photo selector UI\n\t\t * (Call this from your frontend (eg. from the event listener))\n\t\t * @param  {int|string}   id       the Facebook user id, or the string 'me'\n\t\t * @param  {Function} callback\n\t\t */\n\t\tshowAlbumSelector(id, callback) {\n\t\t\tvar i, len;\n\t\t\tthis._log('CSPhotoSelector - show Albums');\n\n\t\t\tid = id || 'me';\n\n\t\t\tif (!this.$albums) {\n\t\t\t\treturn this._buildAlbumSelector(id, () => {\n\t\t\t\t\tthis.showAlbumSelector(id, callback);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis._bindEvents();\n\t\t\t\t// Update classnames to represent the selections for this instance\n\t\t\t\tDOM.removeClass(this.$albums, this._settings.albumSelectedClass);\n\t\t\t\tDOM.removeClass(this.$albums, this._settings.albumDisabledClass);\n\t\t\t\tDOM.removeClass(this.$albums, this._settings.photoFilteredClass);\n\t\t\t\tfor (i = 0, len = this._albums.length; i < len; i += 1) {\n\t\t\t\t\tif (this._selectedAlbumIds.indexOf(this._albums[i].id) >= 0) {\n\t\t\t\t\t\tDOM.addClass(this.$albums[i], this._settings.albumSelectedClass);\n\t\t\t\t\t}\n\t\t\t\t\tif (this._disabledPhotoIds.indexOf(this._albums[i].id) >= 0) {\n\t\t\t\t\t\tDOM.addClass(this.$albums[i], this._settings.albumDisabledClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Update paging\n\t\t\t\tthis._updateAlbumContainer(1);\n\t\t\t\tthis._updatePaginationButtons(1);\n\t\t\t\tDOM.fadeIn(this.$container);\n\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Show the album's photos\n\t\t * @param  {Function} callback\n\t\t * @param  {int|string}   id       the Facebook album id\n\t\t */\n\t\tshowPhotoSelector(callback, albumId) {\n\t\t\tvar i, len;\n\t\t\tthis._log('CSPhotoSelector - show Photos');\n\n\t\t\t// show loader until we get a response\n\t\t\tDOM.show(this.$loader);\n\n\t\t\tif ( ! this.$photos || albumId) {\n\t\t\t\treturn this._buildPhotoSelector(() => {\n\t\t\t\t\tthis.showPhotoSelector(callback);\n\t\t\t\t}, albumId);\n\t\t\t} else {\n\t\t\t\t// Update classnames to represent the selections for this instance\n\t\t\t\tDOM.removeClass(this.$photos, this._settings.albumSelectedClass);\n\t\t\t\tDOM.removeClass(this.$photos, this._settings.albumDisabledClass);\n\t\t\t\tDOM.removeClass(this.$photos, this._settings.photoFilteredClass);\n\t\t\t\tfor (i = 0, len = this._photos.length; i < len; i += 1) {\n\t\t\t\t\tif (this._selectedPhotoIds.indexOf(this._photos[i].id) >= 0) {\n\t\t\t\t\t\tDOM.addClass(this.$photos[i], this._settings.albumSelectedClass);\n\t\t\t\t\t}\n\t\t\t\t\tif (this._disabledPhotoIds.indexOf(this._photos[i].id) >= 0) {\n\t\t\t\t\t\tDOM.addClass(this.$photos[i], this._settings.albumDisabledClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Update paging\n\t\t\t\tthis.$selectedCount.textContent = this._selectedPhotoIds.length;\n\t\t\t\tthis.$selectedCountMax.textContent = this._settings.maxSelection;\n\t\t\t\tthis._updatePhotosContainer(1);\n\t\t\t\t// _updatePaginationButtons(1);\n\t\t\t\tDOM.fadeIn(this.$container);\n\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Hide the album's photos\n\t\t * @return {void}\n\t\t */\n\t\thidePhotoSelector() {\n\t\t\tDOM.slideOutRight(this.$photosWrapper);\n\t\t}\n\n\t\t/**\n\t\t * Hide the photo selector UI\n\t\t * @return {void}\n\t\t */\n\t\thideAlbumSelector() {\n\t\t\tthis._unbindEvents();\n\t\t\tDOM.fadeOut(this.$container);\n\t\t}\n\n\t\t/**\n\t\t * Getter for this._selectedAlbumIds\n\t\t * @return {Array} this._selectedAlbumIds\n\t\t */\n\t\tgetselectedAlbumIds() {\n\t\t\treturn this._selectedAlbumIds;\n\t\t}\n\n\t\t/**\n\t\t * Getter for this._selectedPhotoIds\n\t\t * @return {Array} this._selectedPhotoIds\n\t\t */\n\t\tgetselectedPhotoIds() {\n\t\t\treturn this._selectedPhotoIds;\n\t\t}\n\n\t\t/**\n\t\t * Set disabled photos\n\t\t * (Disabled photos are greyed out in the interface and are not selectable.)\n\t\t * @param {Array} input An array of ids\n\t\t */\n\t\tsetDisabledPhotoIds(input) {\n\t\t\tthis._disabledPhotoIds = input;\n\t\t}\n\n\t\t/**\n\t\t * Remove selections, clear disabled list, go to page 1, etc\n\t\t * @return {void}\n\t\t */\n\t\treset() {\n\t\t\tif (!this._albums || this._albums.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// hide the photo container\n\t\t\tDOM.slideOutRight(this.$photosWrapper);\n\t\t\tDOM.hide(this.$buttonOK);\n\t\t\tthis.$albumsContainer.innerHTML = '';\n\t\t\tthis.$photosContainer.innerHTML = '';\n\t\t\tthis._selectedAlbumIds = [];\n\t\t\tthis._selectedPhotoIds = [];\n\t\t\tthis.$albums = null;\n\t\t\tthis.$selectedCount.textContent = '0';\n\t\t\tthis._disabledPhotoIds = [];\n\t\t\tthis._updatePaginationButtons(1);\n\t\t}\n\n\t\t/**\n\t\t * Listener for the ESC key\n\t\t */\n\t\t_windowEscapeListener(e) {\n\t\t\tif (e.which === 27) {\n\t\t\t\t// The escape key has the same effect as the close button\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tthis.hideAlbumSelector();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Bind events to our UI controls\n\t\t * @return {void}\n\t\t */\n\t\t_bindEvents() {\n\t\t\tthis.$buttonClose.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.hideAlbumSelector();\n\t\t\t});\n\t\t\tthis.$buttonCancel.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.hideAlbumSelector();\n\t\t\t});\n\n\t\t\tthis.$buttonOK.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.hideAlbumSelector();\n\t\t\t\tif (typeof this._settings.callbackSubmit === 'function') { this._settings.callbackSubmit(this._selectedPhotoIds); }\n\t\t\t});\n\n\t\t\tthis.$backToAlbums.addEventListener('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tDOM.show(this.$pagination);\n\t\t\t\tDOM.hide(this.$buttonOK);\n\t\t\t\tthis.hidePhotoSelector();\n\t\t\t});\n\n\t\t\tthis.$pagePrev.addEventListener('click', (e) => {\n\t\t\t\tvar pageNumber = parseInt(this.$pageNumber.textContent, 10) - 1;\n\t\t\t\te.preventDefault();\n\t\t\t\tif (pageNumber < 1) { return; }\n\t\t\t\tthis._updateAlbumContainer(pageNumber);\n\t\t\t\tthis._updatePaginationButtons(pageNumber);\n\t\t\t});\n\n\t\t\tthis.$pageNext.addEventListener('click', (e) => {\n\t\t\t\tvar pageNumber = parseInt(this.$pageNumber.textContent, 10) + 1;\n\t\t\t\te.preventDefault();\n\t\t\t\tif (DOM.hasClass(e.target, this._settings.disabledClass)) { return; }\n\t\t\t\tthis._updateAlbumContainer(pageNumber);\n\t\t\t\tthis._updatePaginationButtons(pageNumber);\n\t\t\t});\n\n\t\t\twindow.addEventListener('keydown', this._windowEscapeListener.bind(this));\n\t\t}\n\n\t\t/**\n\t\t * Remove event listeners from our UI controls\n\t\t * @return {void}\n\t\t */\n\t\t_unbindEvents() {\n\t\t\tthis.$buttonClose.removeEventListener('click');\n\t\t\tthis.$buttonOK.removeEventListener('click');\n\t\t\tthis.$buttonCancel.removeEventListener('click');\n\t\t\t[].forEach.call(this.$albumsContainer.children, ($child) => {\n\t\t\t\t$child.removeEventListener('click');\n\t\t\t});\n\t\t\t[].forEach.call(this.$photosContainer.children, ($child) => {\n\t\t\t\t$child.removeEventListener('click');\n\t\t\t});\n\t\t\tthis.$pagePrev.removeEventListener('click');\n\t\t\tthis.$pageNext.removeEventListener('click');\n\t\t\twindow.removeEventListener('keydown', this._windowEscapeListener);\n\t\t}\n\n\t\t/**\n\t\t * Set the contents of the albums container\n\t\t * @param  {int} pageNumber the page number we want to show\n\t\t * @return {void}\n\t\t */\n\t\t_updateAlbumContainer(pageNumber) {\n\t\t\tvar firstIndex, lastIndex;\n\t\t\tfirstIndex = (pageNumber - 1) * this._settings.albumsPerPage;\n\t\t\tlastIndex = pageNumber * this._settings.albumsPerPage;\n\n\t\t\t/*var filtered = [].filter.call(this.$albums, ($element) => {\n\t\t\t\treturn !DOM.hasClass($element, this._settings.photoFilteredClass);\n\t\t\t});\n\t\t\tfiltered = filtered.slice(firstIndex, lastIndex);*/\n\n\t\t\tthis.$albumsContainer.innerHTML = '';\n\n\t\t\tfor (var i = firstIndex; i < lastIndex; i) {\n\t\t\t\tif ( ! this.$albums[i]) break;\n\t\t\t\tif ( ! DOM.hasClass(this.$albums[i], this._settings.photoFilteredClass)) {\n\t\t\t\t\tthis.$albumsContainer.appendChild(this.$albums[i]);\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*for (var i = 0; i < filtered.length; i++) {\n\t\t\t\tthis.$albumsContainer.innerHTML += filtered[i].outerHTML;\n\t\t\t}\n\t\t\tthis.$albums = this.$albumsContainer.children;*/\n\t\t\t[].forEach.call(this.$albumsContainer.children, ($album) => {\n\t\t\t\t$album.addEventListener('click', (e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis._selectAlbum($album);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Set the contents of the photos container\n\t\t * @param  {int} pageNumber the page number we want to show\n\t\t * @return {void}\n\t\t */\n\t\t_updatePhotosContainer(pageNumber) {\n\t\t\tvar firstIndex, lastIndex;\n\t\t\tfirstIndex = (pageNumber - 1) * this._settings.photosPerPage;\n\t\t\tlastIndex = pageNumber * this._settings.photosPerPage;\n\n\t\t\t/*var filtered = [].filter.call(this.$photos, ($element) => {\n\t\t\t\treturn !DOM.hasClass($element, this._settings.photoFilteredClass);\n\t\t\t});\n\t\t\tfiltered = filtered.slice(firstIndex, lastIndex);*/\n\n\t\t\tthis.$photosContainer.innerHTML = '';\n\n\t\t\tfor (var i = firstIndex; i < lastIndex; i) {\n\t\t\t\tif ( ! this.$photos[i]) break;\n\t\t\t\tif ( ! DOM.hasClass(this.$photos[i], this._settings.photoFilteredClass)) {\n\t\t\t\t\tthis.$photosContainer.appendChild(this.$photos[i]);\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t[].forEach.call(this.$photosContainer.children, ($photo) => {\n\t\t\t\t$photo.addEventListener('click', (e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis._selectPhotos($photo);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Update the contents of the pagination buttons\n\t\t * @param  {int} pageNumber the page number we want to show\n\t\t * @return {void}\n\t\t */\n\t\t_updatePaginationButtons(pageNumber) {\n\t\t\tvar numPages = Math.ceil((this._albums.length) / this._settings.albumsPerPage);\n\t\t\tthis.$pageNumber.textContent = pageNumber;\n\t\t\tthis.$pageNumberTotal.textContent = numPages;\n\t\t\tif (pageNumber === 1 || numPages === 1) {\n\t\t\t\tDOM.addClass(this.$pagePrev, this._settings.disabledClass);\n\t\t\t} else {\n\t\t\t\tDOM.removeClass(this.$pagePrev, this._settings.disabledClass);\n\t\t\t}\n\t\t\tif (pageNumber === numPages || numPages === 1) {\n\t\t\t\tDOM.addClass(this.$pageNext, this._settings.disabledClass);\n\t\t\t} else {\n\t\t\t\tDOM.removeClass(this.$pageNext, this._settings.disabledClass);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Select album and show its photos\n\t\t * @param  {Element} $album\n\t\t * @return {void}\n\t\t */\n\t\t_selectAlbum($album) {\n\t\t\tvar albumId, i, len, removedId;\n\t\t\talbumId = $album.getAttribute('data-id');\n\n\t\t\t// If the album is disabled, ignore this\n\t\t\tif (DOM.hasClass($album, this._settings.albumDisabledClass)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ! DOM.hasClass($album, this._settings.albumSelectedClass)) {\n\t\t\t\t// If autoDeselection is enabled and they have already selected the max number of albums, deselect the first album\n\t\t\t\tif (this._settings.autoDeselection && this._selectedAlbumIds.length === this._settings.maxSelection) {\n\t\t\t\t\tremovedId = this._selectedAlbumIds.splice(0, 1);\n\t\t\t\t\tDOM.removeClass(this.$getAlbumById(removedId), this._settings.albumSelectedClass);\n\t\t\t\t\tthis.$selectedCount.textContent = this._selectedAlbumIds.length;\n\t\t\t\t}\n\t\t\t\tif (this._selectedAlbumIds.length < this._settings.maxSelection) {\n\t\t\t\t\t// Add album to this._selectedAlbumIds\n\t\t\t\t\tif (this._selectedAlbumIds.indexOf(albumId) < 0) {\n\t\t\t\t\t\tthis._selectedAlbumIds.push(albumId);\n\t\t\t\t\t\tDOM.addClass($album, this._settings.albumSelectedClass);\n\t\t\t\t\t\tthis.$selectedCount.textContent = this._selectedAlbumIds.length;\n\t\t\t\t\t\tthis._log('CSPhotoSelector - newInstance - _selectAlbum - selected IDs: ', this._selectedAlbumIds);\n\t\t\t\t\t\tif (typeof this._settings.callbackAlbumSelected === \"function\") { this._settings.callbackAlbumSelected(albumId); }\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._log('CSPhotoSelector - newInstance - _selectAlbum - ID already stored');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// Remove album from this._selectedAlbumIds\n\t\t\t\tfor (i = 0, len = this._selectedAlbumIds.length; i < len; i += 1) {\n\t\t\t\t\tif (this._selectedAlbumIds[i] === albumId) {\n\t\t\t\t\t\tthis._selectedAlbumIds.splice(i, 1);\n\t\t\t\t\t\tDOM.removeClass($album, this._settings.albumSelectedClass);\n\t\t\t\t\t\tthis.$selectedCount.textContent = this._selectedAlbumIds.length;\n\t\t\t\t\t\tif (typeof this._settings.callbackAlbumUnselected === \"function\") { this._settings.callbackAlbumUnselected(albumId); }\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._selectedAlbumIds.length === this._settings.maxSelection) {\n\t\t\t\tif (typeof this._settings.callbackMaxSelection === \"function\") { this._settings.callbackMaxSelection(); }\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Select photo and add its id to the list\n\t\t * @param  {Element} $photo\n\t\t * @return {void}\n\t\t */\n\t\t_selectPhotos($photo) {\n\t\t\tvar photoId, i, len, removedId;\n\t\t\tphotoId = $photo.getAttribute('data-id');\n\n\t\t\t// If the photo is disabled, ignore this\n\t\t\tif (DOM.hasClass($photo, this._settings.albumDisabledClass)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ! DOM.hasClass($photo, this._settings.albumSelectedClass)) {\n\t\t\t\t// If autoDeselection is enabled and they have already selected the max number of photos, deselect the first photo\n\t\t\t\tif (this._settings.autoDeselection && this._selectedPhotoIds.length === this._settings.maxSelection) {\n\t\t\t\t\tremovedId = this._selectedPhotoIds.splice(0, 1);\n\t\t\t\t\tDOM.removeClass(this.$getPhotoById(removedId), this._settings.albumSelectedClass);\n\t\t\t\t\tthis.$selectedCount.textContent = this._selectedPhotoIds.length;\n\t\t\t\t}\n\t\t\t\tif (this._selectedPhotoIds.length < this._settings.maxSelection) {\n\t\t\t\t\t// Add photo to this._selectedPhotoIds\n\t\t\t\t\tif (this._selectedPhotoIds.indexOf(photoId) < 0) {\n\t\t\t\t\t\tthis._selectedPhotoIds.push(photoId);\n\t\t\t\t\t\tDOM.addClass($photo, this._settings.albumSelectedClass);\n\t\t\t\t\t\tthis.$selectedCount.textContent = this._selectedPhotoIds.length;\n\t\t\t\t\t\tthis._log('CSPhotoSelector - newInstance - selectPhoto - selected IDs: ', this._selectedPhotoIds);\n\t\t\t\t\t\tif (typeof this._settings.callbackPhotoSelected === \"function\") { this._settings.callbackPhotoSelected(photoId); }\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._log('CSPhotoSelector - newInstance - selectPhoto - ID already stored');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// Remove photo from this._selectedPhotoIds\n\t\t\t\tfor (i = 0, len = this._selectedPhotoIds.length; i < len; i += 1) {\n\t\t\t\t\tif (this._selectedPhotoIds[i] === photoId) {\n\t\t\t\t\t\tthis._selectedPhotoIds.splice(i, 1);\n\t\t\t\t\t\tDOM.removeClass($photo, this._settings.albumSelectedClass);\n\t\t\t\t\t\tthis.$selectedCount.textContent = this._selectedPhotoIds.length;\n\t\t\t\t\t\tif (typeof this._settings.callbackPhotoUnselected === \"function\") { this._settings.callbackPhotoUnselected(photoId); }\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._selectedPhotoIds.length) {\n\t\t\t\tDOM.show(this.$buttonOK);\n\t\t\t} else {\n\t\t\t\tDOM.hide(this.$buttonOK);\n\t\t\t}\n\n\t\t\tif (this._selectedPhotoIds.length === this._settings.maxSelection) {\n\t\t\t\tif (typeof this._settings.callbackMaxSelection === \"function\") { this._settings.callbackMaxSelection(); }\n\t\t\t}\n\n\t\t\t// this._log(this._selectedPhotoIds);\n\t\t}\n\n\t// END NEWINSTANCE :|\n\n\t/**\n\t * Get an album by its Facebook id\n\t * @param  {int} id    the album id\n\t * @return {Element}   the HTML element of the corresponding Album\n\t */\n\t$getAlbumById(id) {\n\t\tvar i, len;\n\t\tid = id.toString();\n\t\tfor (i = 0, len = this._albums.length; i < len; i += 1) {\n\t\t\tif (this._albums[i].id === id) {\n\t\t\t\treturn this.$albums[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Get a photo by its Facebook id\n\t * @param  {int} id    the photo id\n\t * @return {Element}    the HTML element of the corresponding Photo\n\t */\n\t$getPhotoById(id) {\n\t\tvar i, len;\n\t\tid = id.toString();\n\t\tfor (i = 0, len = this._photos.length; i < len; i += 1) {\n\t\t\tif (this._photos[i].id === id) {\n\t\t\t\treturn this.$photos[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Load the Facebook albums and build the markup\n\t * @param  {int}   id           the Facebook user id\n\t * @param  {Function} callback\n\t */\n\t_buildAlbumSelector(id, callback) {\n\t\tvar buildMarkup, buildAlbumMarkup;\n\t\tthis._log(\"buildAlbumSelector\");\n\t\tDOM.show(this.$pagination);\n\n\t\tif (!FB) {\n\t\t\tthis._log('The Facebook SDK must be initialised before showing the photo selector');\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check that the user is logged in to Facebook\n\t\tFB.getLoginStatus((response) => {\n\t\t\tif (response.status === 'connected') {\n\t\t\t\tvar accessToken = response.authResponse.accessToken;\n\t\t\t\t// Load Facebook photos\n\t\t\t\tFB.api('/'+ id +'/albums', (response) => {\n\t\t\t\t\tif (response.data.length) {\n\t\t\t\t\t\tthis.setAlbums(response.data);\n\t\t\t\t\t\t// Build the markup\n\t\t\t\t\t\tbuildMarkup(accessToken);\n\t\t\t\t\t\t// Call the callback\n\t\t\t\t\t\tif (typeof callback === 'function') { callback(); }\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert(this._settings.i18n.permission_error);\n\t\t\t\t\t\tthis._log('CSPhotoSelector - buildAlbumSelector - No albums returned');\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis._log('CSPhotoSelector - buildAlbumSelector - User is not logged in to Facebook');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\t// Build the markup of the album selector\n\t\tbuildMarkup = (accessToken) => {\n\t\t\t// loop through photo albums\n\t\t\tvar i, len, html = [];\n\t\t\t    //$div = document.createElement('div');\n\t\t\tfor (i = 0, len = this._albums.length; i < len; i += 1) {\n\t\t\t\tlet elementMarkup = buildAlbumMarkup(this._albums[i], accessToken),\n\t\t\t\t    $element = document.createElement('div');\n\t\t\t\t$element.innerHTML = elementMarkup;\n\t\t\t\thtml.push($element.children[0]);\n\t\t\t\t//$div.innerHTML += elementMarkup;\n\t\t\t}\n\t\t\tthis.$albums = html;\n\t\t};\n\n\t\t// Return the markup for a single album\n\t\tbuildAlbumMarkup = (album, accessToken) => {\n\t\t\treturn '<a href=\"#\" class=\"PhotoSelector_album\" data-id=\"' + album.id + '\">' +\n\t\t\t\t\t'<div class=\"PhotoSelector_albumWrap\"><div>' +\n\t\t\t\t\t'<img src=\"https://graph.facebook.com/'+ album.id +'/picture?type=album&access_token='+ accessToken +'\" alt=\"' + this._htmlEntities(album.name) + '\" class=\"PhotoSelector_photoAvatar\" />' +\n\t\t\t\t\t'</div></div>' +\n\t\t\t\t\t'<div class=\"PhotoSelector_photoName\">' + this._htmlEntities(album.name) + '</div>' +\n\t\t\t\t\t'</a>';\n\t\t};\n\t}\n\n\t/**\n\t * Load the Facebook photos and build the markup\n\t * @param  {Function} callback\n\t * @param  {int}   albumId           the Facebook album id\n\t */\n\t_buildPhotoSelector(callback, albumId) {\n\t\tvar buildSecondMarkup, buildPhotoMarkup;\n\t\tthis._log(\"buildPhotoSelector\");\n\n\t\tFB.api('/'+ albumId +'/photos?fields=id,picture,source,height,width,images&limit=500', (response) => {\n\t\t\tif (response.data) {\n\t\t\t\tthis.setPhotos(response.data);\n\t\t\t\t// Build the markup\n\t\t\t\tbuildSecondMarkup();\n\t\t\t\t// Call the callback\n\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\tcallback();\n\t\t\t\t\t// hide the loader and pagination\n\t\t\t\t\tDOM.hide(this.$loader);\n\t\t\t\t\tDOM.hide(this.$pagination);\n\t\t\t\t\t// set the photo container to active\n\t\t\t\t\tDOM.slideInRight(this.$photosWrapper);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._log('CSPhotoSelector - showPhotoSelector - No photos returned');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\t// Build the markup of the photo selector\n\t\tbuildSecondMarkup = () => {\n\t\t\t//loop through photos\n\t\t\tvar i, len, html = [];\n\t\t\t//    $div = document.createElement('div');\n\n\t\t\t// if photos is empty, we need to try again\n\t\t\tif (!this._photos.length) {\n\t\t\t\tthis._buildPhotoSelector(null, albumId);\n\t\t\t}\n\t\t\tfor (i = 0, len = this._photos.length; i < len; i += 1) {\n\t\t\t\tlet elementMarkup = buildPhotoMarkup(this._photos[i]),\n\t\t\t\t    $element = document.createElement('div');\n\t\t\t\t$element.innerHTML = elementMarkup;\n\t\t\t\thtml.push($element.children[0]);\n\t\t\t\t//$div.innerHTML += elementMarkup;\n\t\t\t}\n\n\t\t\tthis.$photos = html;\n\t\t};\n\n\t\tbuildPhotoMarkup = function(photo) {\n\t\t\treturn '<a href=\"#\" class=\"PhotoSelector_photo PhotoSelector_clearfix\" data-id=\"' + photo.id + '\">' +\n\t\t\t\t\t'<span><img src=\"' + photo.picture + '\" alt=\"\" class=\"PhotoSelector_photoAvatar\" /></span>' +\n\t\t\t\t\t'</a>';\n\t\t};\n\t}\n\n\t/**\n\t * Sort photos alphabetically by name (for Array.sort)\n\t * @param  {object} photo1 the first photo\n\t * @param  {object} photo2 the second photo\n\t * @return {int}\n\t */\n\t_sortPhotos(photo1, photo2) {\n\t\tif (photo1.upperCaseName === photo2.upperCaseName) { return 0; }\n\t\tif (photo1.upperCaseName > photo2.upperCaseName) { return 1; }\n\t\tif (photo1.upperCaseName < photo2.upperCaseName) { return -1; }\n\t}\n\n\t/**\n\t * Console.log wrapper (only logs if the debug setting is true)\n\t * @return {void}\n\t */\n\t_log() {\n\t\tif (this._settings.debug && window.console) {\n\t\t\tconsole.log(Array.prototype.slice.call(arguments));\n\t\t}\n\t}\n\n\t/**\n\t * Replace HTML tags in a string with encoded entities\n\t * @param  {string} str the HTML to be cleaned\n\t * @return {string}     the cleaned string\n\t */\n\t_htmlEntities(str) {\n\t\tif (!str) return '';\n\t\treturn String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n\t}\n\n}\n\nfacebookPhotoSelector._defaultSettings = {\n\t// generic\n\tspeed\t\t\t\t\t\t\t: 100,\n\tdebug\t\t\t\t\t\t\t: false,\n\n\t// originale \"instance\" settings\n\tmaxSelection\t\t\t        : 1,\n\talbumsPerPage\t\t\t        : 6,\n\tphotosPerPage\t\t\t        : 10,\n\tautoDeselection\t\t\t        : true, // Allow the user to keep on selecting once they reach maxSelection, and just deselect the first selected photo\n\tcallbackAlbumSelected\t        : null,\n\tcallbackAlbumUnselected\t        : null,\n\tcallbackPhotoSelected\t        : null,\n\tcallbackPhotoUnselected\t        : null,\n\tcallbackMaxSelection\t        : null,\n\tcallbackSubmit\t\t\t        : null,\n\n\t// original \"global\" settings\n\tdisabledClass\t\t\t\t\t: 'PhotoSelector_disabled',\n\talbumSelectedClass\t\t\t\t: 'PhotoSelector_photoSelected',\n\talbumDisabledClass\t\t\t\t: 'PhotoSelector_photoDisabled',\n\tphotoFilteredClass\t\t\t\t: 'PhotoSelector_photoFiltered',\n\tcontainerSelector\t\t\t\t: '#PhotoSelector',\n\talbumsContainerSelector\t\t\t: '.PhotoSelector_albumContainer',\n\tphotosContainerSelector\t\t\t: '.PhotoSelector_photoContainer',\n\tphotosWrapperSelector\t\t\t: '.PhotoSelector_wrapper',\n\tselectedPhotoCountSelector\t\t: '.PhotoSelector_selectedPhotoCount',\n\tselectedPhotoCountMaxSelector\t: '.PhotoSelector_selectedPhotoCountMax',\n\tpageNumberSelector\t\t\t\t: '#PhotoSelector_pageNumber',\n\tpageNumberTotalSelector\t\t\t: '#PhotoSelector_pageNumberTotal',\n\tpagePrevSelector\t\t\t\t: '#PhotoSelector_pagePrev',\n\tpageNextSelector\t\t\t\t: '#PhotoSelector_pageNext',\n\tbuttonBackToAlbumsSelector\t\t: '#PhotoSelector_backToAlbums',\n\tbuttonCloseSelector\t\t\t\t: '#PhotoSelector_buttonClose',\n\tbuttonOKSelector\t\t\t\t: '#PhotoSelector_buttonOK',\n\tbuttonCancelSelector\t\t\t: '#PhotoSelector_buttonCancel',\n\tloader\t\t\t\t\t\t\t: '#PhotoSelector_loader',\n\tpagination\t\t\t\t\t\t: '.PhotoSelector_pageNumberContainer, #PhotoSelector_pagePrev, #PhotoSelector_pageNext',\n\n\t// internationalization\n\ti18n                            : {\n\t\tchoose:           'Choose from Photos',\n\t\tbrowse_albums:    'Browse your albums until you find a picture you want to use',\n\t\tselect_an_album:  'Select an album',\n\t\tselect_a_photo:   'Select a new photo',\n\t\tphotos_selected:  'photo(s) selected',\n\t\tback_to_albums:   'Back to albums',\n\t\tprevious:         'Previous',\n\t\tnext:             'Next',\n\t\tpage:             'Page',\n\t\tOK:               'OK',\n\t\tcancel:           'Cancel',\n\t\tpermission_error: 'It looks like we don’t have permission to see the pictures. Please log out and log in again'\n\t}\n};\n\nfacebookPhotoSelector._HTML = `\n<div id=\"PhotoSelector\" hidden>\n  <div class=\"PhotoSelector_dialog\">\n    <a href=\"#\" id=\"PhotoSelector_buttonClose\">&times;</a>\n    <div class=\"PhotoSelector_form\">\n      <div class=\"PhotoSelector_header\">\n        <p>{choose}</p>\n      </div>\n\n      <div class=\"PhotoSelector_content AlbumSelector_wrapper\">\n        <p>{browse_albums}</p>\n        <div class=\"PhotoSelector_searchContainer PhotoSelector_clearfix\">\n          <div class=\"PhotoSelector_selectedCountContainer\">{select_an_album}</div>\n        </div>\n        <div class=\"PhotoSelector_photosContainer PhotoSelector_albumContainer\"></div>\n      </div>\n\n      <div class=\"PhotoSelector_content PhotoSelector_wrapper\" hidden>\n        <p>{select_a_photo}</p>\n        <div class=\"PhotoSelector_searchContainer PhotoSelector_clearfix\">\n          <div class=\"PhotoSelector_selectedCountContainer\"><span class=\"PhotoSelector_selectedPhotoCount\">0</span> / <span class=\"PhotoSelector_selectedPhotoCountMax\">0</span> {photos_selected}</div>\n          <a href=\"#\" id=\"PhotoSelector_backToAlbums\">{back_to_albums}</a>\n        </div>\n        <div class=\"PhotoSelector_photosContainer PhotoSelector_photoContainer\"></div>\n      </div>\n\n      <div id=\"PhotoSelector_loader\" hidden></div>\n\n\n      <div class=\"PhotoSelector_footer PhotoSelector_clearfix\">\n        <a href=\"#\" id=\"PhotoSelector_pagePrev\" class=\"PhotoSelector_disabled\" hidden>{previous}</a>\n        <a href=\"#\" id=\"PhotoSelector_pageNext\" hidden>{next}</a>\n        <div class=\"PhotoSelector_pageNumberContainer\" hidden>\n          {page} <span id=\"PhotoSelector_pageNumber\">1</span> / <span id=\"PhotoSelector_pageNumberTotal\">1</span>\n        </div>\n        <a href=\"#\" id=\"PhotoSelector_buttonOK\">{OK}</a>\n        <a href=\"#\" id=\"PhotoSelector_buttonCancel\">{cancel}</a>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","function _elize(element) {\n\treturn typeof element === 'string' ? document.querySelectorAll(element) : element;\n}\n\nfunction addClass(element, className) {\n\tif ( ! element) return;\n\telement = _elize(element);\n\n\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\taddClass(element[i], className);\n\t\t}\n\t\treturn;\n\t}\n\n\tif (hasClass(element, className)) return;\n\n\tif (element.classList)\n\t\telement.classList.add(className);\n\telse\n\t\telement.className += ' ' + className;\n}\n\nfunction removeClass(element, className) {\n\tif ( ! element) return;\n\telement = _elize(element);\n\n\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\tremoveClass(element[i], className);\n\t\t}\n\t\treturn;\n\t}\n\tif (element.classList)\n\t\telement.classList.remove(className);\n\telse\n\t\telement.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n}\n\nfunction hasClass(element, className) {\n\tif ( ! element) return;\n\telement = _elize(element);\n\n\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\tvar ret = true;\n\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\tif ( ! hasClass(element[i], className)) ret = false;\n\t\t}\n\t\treturn ret;\n\t}\n\n\tif (element.classList)\n\t\treturn element.classList.contains(className);\n\telse\n\t\treturn new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\n}\n\nfunction toggleClass(element, className, value) {\n\tif ( ! element) return;\n\telement = _elize(element);\n\n\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\ttoggleClass(element[i], className, value);\n\t\t}\n\t\treturn;\n\t}\n\n\tif (value)\n\t\taddClass(element, className);\n\telse\n\t\tremoveClass(element, className);\n}\n\nfunction css(element, rule) {\n\tif ( ! element) return;\n\telement = _elize(element);\n\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\telement = element[0];\n\t}\n\treturn getComputedStyle(element).getPropertyValue(rule);\n}\n\n// ANIMATIONS\n\nfunction show(element) {\n\tif ( ! element) return;\n\telement = _elize(element);\n\n\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\tshow(element[i]);\n\t\t}\n\t\treturn;\n\t}\n\n\telement.removeAttribute('hidden');\n}\n\nfunction hide(element) {\n\tif ( ! element) return;\n\telement = _elize(element);\n\n\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\thide(element[i]);\n\t\t}\n\t\treturn;\n\t}\n\n\telement.setAttribute('hidden', true);\n}\n\nfunction fadeIn(element) {\n\tif ( ! element) return;\n\t_setUpAnimationStylesheet();\n\telement = _elize(element);\n\n\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\tfadeIn(element[i]);\n\t\t}\n\t\treturn;\n\t}\n\n\telement.removeAttribute('hidden');\n\tvar onEnd = function(e) {\n\t\tremoveClass(e.target, 'PSanimated');\n\t\tremoveClass(e.target, 'PSfadeIn');\n\t\t_prefixedRemoveEvent(element, 'AnimationEnd', onEnd);\n\t};\n\t_prefixedEvent(element, 'AnimationEnd', onEnd);\n\taddClass(element, 'PSanimated');\n\taddClass(element, 'PSfadeIn');\n}\n\nfunction fadeOut(element) {\n\tif ( ! element) return;\n\t_setUpAnimationStylesheet();\n\telement = _elize(element);\n\n\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\tfadeOut(element[i]);\n\t\t}\n\t\treturn;\n\t}\n\n\tvar onEnd = function(e) {\n\t\te.target.setAttribute('hidden', true);\n\t\tremoveClass(e.target, 'PSanimated');\n\t\tremoveClass(e.target, 'PSfadeOut');\n\t\t_prefixedRemoveEvent(element, 'AnimationEnd', onEnd);\n\t};\n\t_prefixedEvent(element, 'AnimationEnd', onEnd);\n\taddClass(element, 'PSanimated');\n\taddClass(element, 'PSfadeOut');\n}\n\nfunction slideInRight(element) {\n\tif ( ! element) return;\n\t_setUpAnimationStylesheet();\n\telement = _elize(element);\n\n\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\tslideInRight(element[i]);\n\t\t}\n\t\treturn;\n\t}\n\n\telement.removeAttribute('hidden');\n\tvar onEnd = function(e) {\n\t\tremoveClass(e.target, 'PSanimated');\n\t\tremoveClass(e.target, 'PSslideInRight');\n\t\t_prefixedRemoveEvent(element, 'AnimationEnd', onEnd);\n\t};\n\t_prefixedEvent(element, 'AnimationEnd', onEnd);\n\taddClass(element, 'PSanimated');\n\taddClass(element, 'PSslideInRight');\n}\n\nfunction slideOutRight(element) {\n\tif ( ! element) return;\n\t_setUpAnimationStylesheet();\n\telement = _elize(element);\n\n\tif (element instanceof NodeList || element instanceof HTMLCollection || Array.isArray(element)) {\n\t\tfor (var i = 0; i < element.length; ++i) {\n\t\t\tslideOutRight(element[i]);\n\t\t}\n\t\treturn;\n\t}\n\n\tvar onEnd = function(e) {\n\t\te.target.setAttribute('hidden', true);\n\t\tremoveClass(e.target, 'PSanimated');\n\t\tremoveClass(e.target, 'PSslideOutRight');\n\t\t_prefixedRemoveEvent(element, 'AnimationEnd', onEnd);\n\t};\n\t_prefixedEvent(element, 'AnimationEnd', onEnd);\n\taddClass(element, 'PSanimated');\n\taddClass(element, 'PSslideOutRight');\n}\n\nvar _animationStylesheet = false;\n\nfunction _addRuleToStyle(sheet, selector, rules) {\n\tsheet.insertRule(selector + '{' + rules + '}', 0);\n}\n\nfunction _setUpAnimationStylesheet() {\n\n\tif (_animationStylesheet) return;\n\n\t// Create the <style> tag\n\tvar style = document.createElement('style');\n\n\t// Add a media (and/or media query) here if you'd like!\n\t// style.setAttribute('media', 'screen')\n\t// style.setAttribute('media', 'only screen and (max-width : 1024px)')\n\n\t// WebKit hack :(\n\tstyle.appendChild(document.createTextNode(''));\n\n\t// Add the <style> element to the page\n\tdocument.head.appendChild(style);\n\n\t_animationStylesheet = style.sheet;\n\n\t_addRuleToStyle(_animationStylesheet, '.PSanimated', `\n\t\tanimation-duration: 0.35s; -webkit-animation-duration: 0.35s;\n\t\tanimation-fill-mode: both; -webkit-animation-fill-mode: both;\n\t\tanimation-timing-function: ease-in-out; -webkit-animation-timing-function: ease-in-out;\n\t`);\n\n\tvar animations = {\n\t\tfadeIn: `\n\t\t\t0% { opacity: 0; }\n\t\t\t70% { opacity: 1; }\n\t\t\t100% { opacity: 1; }\n\t\t`,\n\t\tfadeOut: `\n\t\t\t0% { opacity: 1; }\n\t\t\t70% { opacity: 0; }\n\t\t\t100% { opacity: 0; }\n\t\t`,\n\t\tslideInRight: `\n\t\t\tfrom {\n\t\t\t\ttransform: translate3d(100%, 0, 0); -webkit-transform: translate3d(100%, 0, 0);\n\t\t\t\tvisibility: visible;\n\t\t\t}\n\t\t\tto { transform: translate3d(0, 0, 0); -webkit-transform: translate3d(0, 0, 0); }\n\t\t`,\n\t\tslideOutRight: `\n\t\t\tfrom { transform: translate3d(0, 0, 0); -webkit-transform: translate3d(0, 0, 0); }\n\t\t\tto {\n\t\t\t\tvisibility: hidden;\n\t\t\t\ttransform: translate3d(100%, 0, 0); -webkit-transform: translate3d(100%, 0, 0);\n\t\t\t}\n\t\t`\n\t};\n\n\tfor (var key in animations) {\n\n\t\t_addRuleToStyle(_animationStylesheet, `@-webkit-keyframes PS${key}`, animations[key]);\n\t\t_addRuleToStyle(_animationStylesheet, `@keyframes PS${key}`, animations[key]);\n\n\t\t_addRuleToStyle(_animationStylesheet, `.PS${key}`, `\n\t\t\tanimation-name: PS${key}; -webkit-animation-name: PS${key};\n\t\t`);\n\t}\n}\n\nvar _prefixes = ['webkit', 'moz', 'MS', 'o', ''];\nfunction _prefixedEvent(element, type, callback) {\n\telement = _elize(element);\n\tfor (var p = 0; p < _prefixes.length; p++) {\n\t\tif (!_prefixes[p]) type = type.toLowerCase();\n\t\telement.addEventListener(_prefixes[p]+type, callback, false);\n\t}\n}\nfunction _prefixedRemoveEvent(element, type, callback) {\n\telement = _elize(element);\n\tfor (var p = 0; p < _prefixes.length; p++) {\n\t\tif (!_prefixes[p]) type = type.toLowerCase();\n\t\telement.removeEventListener(_prefixes[p]+type, callback);\n\t}\n}\n\nexport default {\n\taddClass,\n\tremoveClass,\n\thasClass,\n\ttoggleClass,\n\tcss,\n\tshow,\n\thide,\n\tfadeIn,\n\tfadeOut,\n\tslideInRight,\n\tslideOutRight\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/DOM.js\n **/","function merge(out) {\n    out = out || {};\n\n    for (var i = 1; i < arguments.length; i++) {\n        var obj = arguments[i];\n\n        if (!obj) continue;\n\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                if (typeof obj[key] === 'object')\n                    out[key] = merge(out[key], obj[key]);\n                else\n                    out[key] = obj[key];\n            }\n        }\n    }\n\n    return out;\n}\n\nexport default {\n\tmerge\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/"],"sourceRoot":""}